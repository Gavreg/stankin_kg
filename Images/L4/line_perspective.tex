\documentclass[tikz]{standalone}

\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{amsmath} %математические формулы
\usepackage[e]{esvect}  %Красивая стрелочка вектора


\usepackage{polyglossia}
\setdefaultlanguage{russian}
\setotherlanguage{english}
\setkeys{russian}{babelshorthands=true}
\usepackage{fontspec}
\setmainfont{Times New Roman} [Script=Cyrillic, Mapping=tex-text,]
\setsansfont{Arial} [Script=Cyrillic, Mapping=tex-text,]
\setmonofont{Courier New} [Script=Cyrillic, Mapping=tex-text,]

\usetikzlibrary{calc}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{angles}



\include {../tikzcom.tex}

\begin{document}
	
    
	\def\frame{0}
	\foreach \frame in {0,2,...,199}
	{
		
	\tdplotsetmaincoords{60}{100}
	\begin{tikzpicture}[ scale=1.2]
		
	
			
		\begin{scope}[tdplot_main_coords]
			
			%\draw[step=.5cm,black!10,very thin] (-1.5,-1.5) grid (5,5);
			
			%\draw[-latex, thick] (-1,0) -- (5,0);
			%\draw[-latex, thick] (0,-1) -- (0,5);
			
			\VARPOINT{O}{0}{0}{0}
			
			%\draw (O) node [left,yshift=5pt] {$O$};
			
			% A(1,1)   B(3,1)
			% C(1,3)  D(3,3) 
			% n=(2,1,3)
			
			
			
			\VARPOINT{i}{1}{0}{0}
			\VARPOINT{j}{0}{1}{0}
			\VARPOINT{k}{0}{0}{1}
			
			
			\draw [-Latex, red] (-1,0,0) -- ($2*(i)$) node [left] {$x$};
			\draw [-Latex, blue] (0,-3,0) -- ($3*(j)$);	
			\draw [-Latex, green] (0,0,-1) -- ($2*(k)$) node [right] {$y$};
			
			\edef\a{0.4}
			\edef\b{1.1}
			\edef\t{\fpeval{\frame / 200.0 }}
			
			\edef\r{\fpeval{\a * (1-\t)+\b*\t}}
			
			
			
			
			%%ПЛОСКОСТЬ-------------------------------------------------
			\MATRIXROW{MART}{a}{1}{0}{0}{0}
			\MATRIXROW{MART}{b}{0}{1}{0}{0}
			\MATRIXROW{MART}{c}{0}{0}{1}{0}
			\MATRIXROW{MART}{d}{0}{\r}{0}{1}
			
			
			
			\VARPOINT{A}{2}{2}{2.5}
			\VARPOINT{B}{-1}{3}{3}
			
			\draw [ultra thin] (0,{-1/\r},0) -- (A);
			\draw [ultra thin] (0,{-1/\r},0) -- (B);
			
			\fill (0,{-1/\r},0) circle(0.7pt) node [below] {$\displaystyle-\frac{1}{a}$};
			
			\draw (A) -- (B);
			\fill (A) circle(0.7pt) node [above] {$A$};
			\fill (B) circle(0.7pt) node [above] {$B$};
			
			\renewcommand{\dotsize}{0.3pt}
			\PROJECTILELINESXY{A}{dashed, very thin}{}
			\PROJECTILELINESXY{B}{dashed, very thin}{}
			
			
			
			\draw[dashed, very thin] (O) -- (B);
			\draw[dashed, very thin] (O) -- (A);
			
			\foreach \p in {A,B}{
				\MATRIXPOINTMULTIPLY{\p}{MART}{\p}
			}	
			
			
			\PROJECTILELINESXY{A}{dashed, very thin}{}
			\PROJECTILELINESXY{B}{dashed, very thin}{}	
			
			
			\draw (A) -- (B);
			\fill (A) circle(0.7pt) node [below] {$A'$};
			\fill (B) circle(0.7pt) node [above] {$B'$};
			
			\draw (Axz) -- (Bxz);
			\fill (Axz) circle(0.7pt)  node [left] {$A'_{xy}$};
			\fill (Bxz) circle(0.7pt)  node [above] {$B'_{xy}$};
			
			\draw[dashed, very thin] (Axz) -- (A);
			\draw[dashed, very thin] (Bxz) -- (B);


						
			


			
			
		\end{scope}
		
		
		
		
	\end{tikzpicture}  	
	
	
	

}
	
\end{document}